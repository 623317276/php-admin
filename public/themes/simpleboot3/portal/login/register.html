<!DOCTYPE html>
<html>
<head>
<title>Home</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta charset="utf-8">
<meta name="keywords" content="" />
<link href="/themes/simpleboot3/public/pc/regesit/css/font-awesome.min.css" rel="stylesheet" type="text/css" media="all">
<link href="/themes/simpleboot3/public/pc/regesit/css/style.css" rel="stylesheet" type="text/css" media="all"/>
<link href="http://fonts.googleapis.com/css?family=Raleway:400,500,600,700,800,900" rel="stylesheet">
<!-- <link href="/themes/simpleboot3/public/css/mui.min.css" rel="stylesheet" />	
<script src="/themes/simpleboot3/public/js/mui.min.js"></script> -->
<!-- <script src="__TMPL__/public/assets/js/jquery-1.10.2.min.js"></script>
<script src="__TMPL__/public/assets/js/bootstrap.min.js"></script>
 <link href="__TMPL__/public/assets/themes/{:cmf_get_admin_style()}/bootstrap.min.css" rel="stylesheet"> -->
 <link href="/themes/simpleboot3/public/pc/css/layer.css" type="text/css" rel="styleSheet" id="layermcss">
 <script src="/themes/simpleboot3/public/pc/js/layer.js"></script>
</head>	
<body>
<div class="signupform">
<h1>注册</h1>
	<div class="container">
		
		<div class="agile_info">
			<div class="w3l_form">
				<div class="left_grid_info">
					<h3>欢迎 !</h3>
					<h4>我们是具有企业家精神的高级设计工作室</h4>
					<p>一尺深红胜曲尘，天生旧物不如新。
						合欢桃核终堪恨，里许元来别有人。
						井底点灯深烛伊，共郎长行莫围棋。
						玲珑骰子安红豆，入骨相思知不知。 </p>

				</div>
			</div>
			<div class="w3_info">
				<h2>创建一个账户</h2>
				<p>Love begins with a smile, grows with a kiss and ends with a tear.</p>
						<form action="#" method="post">
						<div class="input-group">
							<span><i class="fa fa-user" aria-hidden="true"></i></span>
							<input type="text" placeholder="请输入账号" required="" id="nickname" name="nickname">	
						</div>
						<div class="input-group">
							<span><i class="fa fa-user" aria-hidden="true"></i></span>
							<input type="text" id="phone" placeholder="请输入手机号" required="" name="phone">
						</div>
						<div class="input-group">
							<input type="text"  style="width: 65%;" class="form-control " placeholder="输入验证码" id="codes" name="code">
								<span class="input-group-btn ">
        							<!-- <button id="second" class="btn btn-default" type="button">发送验证码</button> -->
        							<input type="button" class="btn get_code" id="code" value="获取验证码">	
								</span>
						</div>
						<div class="input-group">
							<span><i class="fa fa-lock" aria-hidden="true"></i></span>
							<input type="Password" placeholder="请输入密码" required="" id="password" name="password">
						</div>
						<div class="input-group">
							<span><i class="fa fa-lock" aria-hidden="true"></i></span>
							<input type="Password" placeholder="确认密码" required="" id="passwords" name="passwords">
						</div>
							<input type="checkbox" value="remember-me" /> <h4>记住账号 </h4>
							<button class="btn btn-danger btn-block" type="button" id="nextbu">创建账号</button >	
					</form>
			</div>
			<div class="clear"></div>
			</div>
			
		</div>
		<div class="footer">

			<p class="mb-0">版权所有©2019.公司名称保留所有权利<a href="http://www.lfxop.com/" target="_blank" title="风向传媒">风向传媒</a> - bitcoin <a href="http://www.lfxop.com/" title="风向传媒" target="_blank">风向传媒</a></p>

		</div>
	</div>
<link rel="stylesheet" href="/themes/simpleboot3/public/pc/css/bootstrap.min.css">
<script src="/themes/simpleboot3/public/pc/js/jquery.min.js"></script>
<script src="/themes/simpleboot3/public/pc/js/bootstrap.min.js"></script>
<script type="text/javascript">


	$("#code").click(function(){	
        var myreg = /^[1][3,4,5,7,8][0-9]{9}$/;
   		var phone = $("#phone").val();
   		if(phone == ""){
    		
    	}
        if(!myreg.test(phone)){  	 
            
        }
    	

    	 $.ajax({ 
                type: 'post',
                dataType:'json', 
                url: "{:url('portal/Login/sendcode')}", 
                data: {'phone':phone,'num':2},  
                success: function(data) {	
                    if (data.code == 1) { 
                        var code = $("#code");
                        code.attr("disabled","disabled");
                        setTimeout(function(){
                         code.css("opacity","0.8");
                        },1000)
                        var time = 60;
                        var set=setInterval(function(){
                        code.val(""+--time+"秒后重新获取");
                        }, 1000);
                        setTimeout(function(){
                        code.attr("disabled",false).val("重新获取");	
                        clearInterval(set);
                        }, 60000);
	
                     	layer.open({content: data.resule,skin: 'msg',time: 2});
                        return false;
                       
                    }else {
                        layer.open({content: data.resule,skin: 'msg',time: 2});
                        return false;
                    }
                }
            });
	});
	$("#nextbu").click(function(){
        var myreg = /^[1][3,4,5,7,8][0-9]{9}$/; 
        var myreg1 = /^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,12}$/;
    	var phone = $("#phone").val();
    	var code = $("#codes").val();
    	var password = $("#password").val();
    	var passwords = $("#passwords").val();
    	
    	var email = $("#email").val();
    	var fpeople = $("#fpeople").val();
    	var nickname = $("#nickname").val();
    	if(nickname == ""){
    		layer.open({content: '用户名不为空',skin: 'msg',time: 2});
                return false;
    	}
    	if(phone == ""){
            layer.open({content: '手机号不为空',skin: 'msg',time: 2});
                return false;   
    	}
        if(!myreg.test(phone)){ 
            layer.open({content: '电话号码格式不正确',skin: 'msg',time: 2});
                return false;
        }
    	if(code == ""){
            layer.open({content: '验证码不为空',skin: 'msg',time: 2});
                return false;
    	}
    	if(password == ""){
            layer.open({content: '密码不为空',skin: 'msg',time: 2});
                return false;
    	}
        if(!myreg1.test(password)){ 
            layer.open({content: '密码格式数字+字母6-12位',skin: 'msg',time: 2});
                return false;
        }
    	if(password != passwords){
            layer.open({content: '两次输入不一致',skin: 'msg',time: 2});
                return false;
    	}
    	

    	 $.ajax({
                type: 'post',
                dataType:'json',
                url: "{:url('portal/login/register')}",
                data: $("form").serialize(),
                success: function(data) {
                    if (data.code == 1) {  
                        window.location.href="{:url('portal/login/login')}";
                       
                    }else {
                        layer.open({content: data.resule,skin: 'msg',time: 2});
                        return false;
                    }
                }
            });

	});

</script>
	</body>
</html>